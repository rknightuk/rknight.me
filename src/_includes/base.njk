
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" >

		<meta name="viewport" content="width=device-width" >
		<meta name="Description" content="{{ title }}">

		<meta name="generator" content="{{ eleventy.generator }}">

		<title>{{ title | safe }}{% if title !== 'Robb Knight' %} â€¢ Robb Knight{% endif %}</title>

        <link rel="stylesheet" href="/assets/css/app.css?{% timestamp %}" type="text/css" media="screen" title="no title">

        <!-- ðŸ‘‹ hello! If you subscribe via RSS there might be some super secret posts just for you, don't tell anyone ðŸ¤« -->
        <link rel="alternate" type="application/atom+xml" title="Robb Knight RSS Feed" href="https://rknight.me/subscribe/posts/atom.xml">
        <link rel="alternate" type="application/rss+xml" title="Robb Knight RSS Feed" href="https://rknight.me/subscribe/posts/rss.xml">
        <link rel="alternate" type="application/json" title="Robb Knight JSON Feed" href="https://rknight.me/subscribe/posts/feed.json">

        <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
        <link rel="manifest" href="/assets/icons/site.webmanifest">
        <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#272523">
        <meta name="msapplication-TileColor" content="#272523">
        <meta name="theme-color" content="#272523">
        <link rel='icon' type='image/x-icon' href='/assets/icons/favicon.ico'>
        
        {% if site.production %}
            <script src="https://cdn.usefathom.com/script.js" data-site="ISEJUYJY" defer></script>
        {% endif %}

		<meta property="og:title" content="{{ title }}">
        {% if ('/micro' in page.url) %}
            <meta name="description" content="{{ post.summary }}">
            <meta property="og:description" content="{{ post.summary }}">
        {% else %}
            <meta name="description" content="{% if excerpt %}{{ excerpt}}{% else %}{{ site.config.description }}{% endif %}">
		    <meta property="og:description" content="{% if excerpt %}{{ excerpt}}{% else %}{{ site.config.description }}{% endif %}">
        {% endif %}
		<meta property="og:type" content="article">
		<meta property="og:url" content="https://rknight.me{{ page.url }}">
        {% if customOgImage %}
            <meta property="og:image" content="{{ { "fallback": type, "attachments": attachments } | attachmentOrCustomOg }}">
        {% elif ('/micro' in page.url) or homepage or layout == 'link' or layout == 'changelog' or layout == 'almanac' %}
            <meta property="og:image" content="{{ post | getFirstAttachment }}">
        {% else %}
            {% if site.production %}
                <meta property="og:image" content="https://rknight.me/assets/ogi/{{ page.url | makeSlugForOgImage }}.png">
            {% else %}
                {% ogImage "src/og-image.og.njk", { title: title | safe } %}
            {% endif %}
        {% endif %}

        <link rel="webmention" href="https://webmention.io/rknight.me/webmention">
        <link rel="pingback" href="https://webmention.io/rknight.me/xmlrpc">
	</head>
	<body>

		<a style="display: none;" rel="me" href="https://social.lol/@robb">Mastodon</a>
        <a style="display: none;" href="https://github.com/rknightuk" rel="me">github.com/rknightuk</a>
        <a style="display: none;" href="https://proven.lol/aaecd5">proven.lol/aaecd5</a>

        <span class="p-author h-card" style="display: none">
            <img class="u-photo" src="/assets/indieweb/avatar.jpg" alt="Robb Knight's avatar">
            <img class="u-logo" src="/assets/indieweb/logo.png" alt="Robb Knight's logo">
            <a class="p-name" href="https://rknight.me" rel="author">Robb Knight</a>
            <span class="p-note">{{ site.config.description }}</span>
            <a rel="me" class="u-url u-uid" href="https://rknight.me{{ page.url }}">Permalink</a>
        </span>

        <header class="main">
            <div class="container">
                <div class="main__title">
                    <a href="/">
                        <div class="logo">
                            <svg class="icon">
                                <use xlink:href="#rklogo"></use>
                            </svg>
                        </div>
                        <h1>Robb<span class="fullstop logo-dot">.</span> <span class="surname">Knight<span class="logo-dot">.</span></span></h1>
                    </a>
                </div>
                <div class="main__links">
                    <a href="https://social.lol/@robb" aria-label="Visit my Mastodon">
                        <svg class="icon mastodon-icon">
                            <use xlink:href="#mastodon"></use>
                        </svg>
                        <span>Mastodon</span>
                    </a>
                    <a href="/subscribe" aria-label="Subscribe to the site">
                        <svg class="icon subscribe-icon">
                            <use xlink:href="#rss"></use>
                        </svg>
                        <span>Subscribe</span>
                    </a>
                    <a href="#" id="jason-thinks-thanos-was-right" aria-label="Level out the page headings">
                        <svg class="icon scale">
                            <use xlink:href="#balance-scale"></use>
                        </svg>
                        <svg class="icon scale-left">
                            <use xlink:href="#balance-scale-left"></use>
                        </svg>
                    </a>
                </div>
            </div>
        </header>

        <nav class="main">
            <div class="container">
                <a href="/blog" {% if ('/blog' in page.url) %}class="active"{% endif %}>Blog</a>
                <a href="/links" {% if ('/links' in page.url) %}class="active"{% endif %}>Links</a>
                <a href="/almanac" {% if ('/almanac' in page.url) %}class="active"{% endif %}>Almanac</a>
                <a href="/projects" {% if ('/projects' in page.url) %}class="active"{% endif %}>Projects</a>
                <a href="/collections" {% if ('/collections' in page.url) %}class="active"{% endif %}>Collections</a>
                <a href="/now" {% if ('/now' in page.url) %}class="active"{% endif %}>/now</a>
                <a href="/uses" {% if ('/uses' in page.url) %}class="active"{% endif %}>/uses</a>
                <a href="/sitemap" {% if ('/sitemap' in page.url) %}class="active"{% endif %}>Everything Else</a>
            </div>
        </nav>

        {% if homepage %}
        {% else %}
            <div class="rkblock block-main">
                <div class="container">
                    <h2 class="p-name" data-pagefind-meta="title">{{ title }}</h2>
                    {% if subtitle %}<p class="post-subtitle">{{ subtitle | mdToHtml | safe }}</p>{% endif %}
                    
                    {% if layout == 'post' or layout == 'link' or layout == 'changelog' or layout == 'almanac' %}
                        <div class="post-meta">
                            <div>
                                <svg class="icon">
                                    <use xlink:href="#calendar"></use>
                                </svg>
                                <time class="dt-published" datetime="{{ page.date | toDateTimeForHCard }}">{{ page.date | postDate }}</time>
                                {% if platform %}&nbsp;â€¢ {{ platform }}{% endif %}{% if season %}&nbsp;â€¢ Season {{ season }}{% endif %}{% if year %}&nbsp;â€¢ ({{ year }}){% endif %}
                            </div>
                            <div>
                                {% for tag in tags | sort %}
                                    <a class="p-category" href="/blog/tags/{{ tag | slug }}">#{{ tag }}</a>{% if loop.index < tags.length %}&nbsp;&nbsp; {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    {% endif %}
                    <nav class="header-nav">
                        {% if eleventyNavigation %}
                            {%- set navKey -%}{% if eleventyNavigation.parent === 'Home' %}{{ eleventyNavigation.key }}{% else %}{{ eleventyNavigation.parent }}{% endif %}{%- endset -%}
                        {% endif %}
                        {% if layout === 'almanac' %}
                            {%- set navKey -%}Almanac{%- endset -%}
                        {% endif %}
                        {% if navKey %}
                            {{ collections.all | eleventyNavigation(navKey) | eleventyNavigationToHtml | safe }}
                        {% endif %}
                    </nav>
                </div>
            </div>
        {% endif %}

        {% if homepage %}
            {% include 'homepage_blocks.njk' %}
        {% endif %}

        <main>
            <div class="
                container
                {% if wide %}{% else %}container-sm{% endif %}
                h-entry
            ">
                {{ content | safe }}
            </div>
        </main>

        <div class="container container-sm">
            <hr>
        </div>

        <footer class="main">
            <div>
                <p class="footer-links">
                    {% for p in site.footerpages %}
                        {% if loop.index > 1 %}&bull;{% endif %} <a href="{{ p.link }}">{{ p.label }}</a>
                    {% endfor %}
                </p>
            </div>
            <div class="container container-sm footer-buttons">
                <div><a href="https://11ty.dev"><img width="88" height="31" src="/assets/img/buttons/made_with_11ty.gif" alt="Made with Eleventy"></a></div>
                <div><a href="https://home.omg.lol/referred-by/robb"><img width="88" height="31" src="/assets/img/buttons/omglol4.png" alt="Member of omg.lol"></a></div>
                <div><a href="https://buymeacoffee.com/rknightuk"><img width="88" height="31" src="/assets/img/buttons/buymeacoffee.png" alt="Buy me a coffee"></a></div>
                <div><a href="https://social.lol/@robb"><img width="88" height="31" src="/assets/img/buttons/mastodon.gif" alt="Follow me on Mastodon"></a></div>
                <div><img width="88" height="31" src="/assets/img/buttons/valid-html5.gif" alt="Valid HTML"></div>
                <div><a href="/subscribe/posts/atom.xml"><img width="88" height="31" src="/assets/img/buttons/valid-atom.png" alt="Valid Atom"></a></div>
                <div><a href="/subscribe/posts/rss.xml"><img width="88" height="31" src="/assets/img/buttons/valid-rss.png" alt="Valid RSS"></a></div>
                <div><a href="/subscribe/posts/feed.json"><img width="88" height="31" src="/assets/img/buttons/valid-json.png" alt="Valid JSON"></a></div>
            </div>
            <div class="container container-sm" style="text-align: center;margin: 0 auto;display: flex;align-items: center;justify-content: center;flex-direction: column;">
                <div><img width="88" height="31" src="/assets/img/buttons/robbknight.gif" alt="Robb Knight"></div>
                <div><p>Â© {% year %} Robb Knight</p></div>
            </div>
        </footer>

        {% include 'svgs.njk' %}

        <script>
            (function() {
                const jasonMode = document.getElementById('jason-thinks-thanos-was-right')
                
                if (window.localStorage)
                {
                    const jasonModeEnabled = localStorage.getItem('jasonModeEnabled') === 'true'
                    if (jasonModeEnabled)
                    {
                        jasonMode.classList.add('balanced')
                        Array.from(document.getElementsByClassName('callout')).forEach(e => e.classList.add('perfect-balanced-as-all-things-should-be'))
                        Array.from(document.getElementsByClassName('rkblock')).forEach(e => e.classList.add('perfect-balanced-as-all-things-should-be'))
                        Array.from(document.getElementsByClassName('block-header')).forEach(e => e.classList.add('perfect-balanced-as-all-things-should-be'))
                    }
                }
                jasonMode.addEventListener('click', (e) => {
                    e.preventDefault()
                    jasonMode.classList.toggle('balanced')
                    if (window.localStorage)
                    {
                        jasonMode.classList.contains('balanced') ? localStorage.setItem('jasonModeEnabled', true) : localStorage.setItem('jasonModeEnabled', false)
                    }
                    Array.from(document.getElementsByClassName('callout')).forEach(e => e.classList.toggle('perfect-balanced-as-all-things-should-be'))
                    Array.from(document.getElementsByClassName('rkblock')).forEach(e => e.classList.toggle('perfect-balanced-as-all-things-should-be'))
                    Array.from(document.getElementsByClassName('block-header')).forEach(e => e.classList.toggle('perfect-balanced-as-all-things-should-be'))
                })
            })()
        </script>

	</body>
</html>
